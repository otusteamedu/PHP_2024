## 1. Модульные тесты

### Тесты на поле `card_holder`

- **Тест 1 (Негативный): Проверка card_holder на наличие более одного пробела**
  - **Описание:** Если `card_holder` содержит более одного пробела, метод должен возвращать 400 с сообщением об ошибке.
  - **Ожидаемый результат:** HTTP-код 400, сообщение об ошибке: "Неверный формат поля card_holder".

- **Тест 2 (Позитивный): Проверка card_holder с корректным значением**
  - **Описание:** Если `card_holder` имеет корректное значение (например, "Ivanov Ivan"), метод должен успешно принять его.
  - **Ожидаемый результат:** Поле `card_holder` принимается успешно, ошибки отсутствуют.

- **Тест 3 (Негативный): Проверка card_holder на корректность символов**
  - **Описание:** Если `card_holder` содержит недопустимые символы (например, цифры или специальные символы) или символы отличные от английского алфавита, метод должен возвращать ошибку.
  - **Ожидаемый результат:** HTTP-код 400, сообщение об ошибке: "Неверное значение для имени владельца карты".

### Тесты на поле `card_number`

- **Тест 4 (Негативный): Проверка card_number на наличие 16 цифр**
  - **Описание:** Если `card_number` содержит менее или более 16 цифр, метод возвращает 400 с сообщением об ошибке.
  - **Ожидаемый результат:** HTTP-код 400, сообщение об ошибке: "Номер карты должен содержать 16 цифр".

- **Тест 5 (Позитивный): Проверка card_number с корректным значением**
  - **Описание:** Если `card_number` содержит ровно 16 цифр (например, "1234567812345678"), метод должен принять его.
  - **Ожидаемый результат:** Поле `card_number` принимается успешно, ошибки отсутствуют.

### Тесты на поле `card_expiration`

- **Тест 6 (Негативный): Проверка card_expiration на формат мм/гг**
  - **Описание:** Если `card_expiration` не соответствует формату мм/гг, метод возвращает 400 с сообщением об ошибке.
  - **Ожидаемый результат:** HTTP-код 400, сообщение об ошибке: "Неверный формат даты истечения карты".

- **Тест 7 (Негативный): Проверка истекшего срока действия карты**
  - **Описание:** Попытка провести оплату с использованием карты, у которой срок действия истек.
  - **Ожидаемый результат:** Платеж отклоняется, сообщение об ошибке: "Срок действия карты истек".

- **Тест 8 (Позитивный): Проверка card_expiration с корректным значением**
  - **Описание:** Если `card_expiration` имеет корректный формат (например, "12/25") и срок действия карты не истек, метод должен принять его.
  - **Ожидаемый результат:** Поле `card_expiration` принимается успешно, ошибки отсутствуют.

### Тесты на поле `cvv`

- **Тест 9 (Негативный): Проверка cvv на наличие 3 цифр**
  - **Описание:** Если `cvv` содержит менее или более 3 цифр, метод возвращает 400 с сообщением об ошибке.
  - **Ожидаемый результат:** HTTP-код 400, сообщение об ошибке: "CVV должен содержать 3 цифры".

- **Тест 10 (Позитивный): Проверка cvv с корректным значением**
  - **Описание:** Если `cvv` содержит ровно 3 цифры (например, "123"), метод должен принять его.
  - **Ожидаемый результат:** Поле `cvv` принимается успешно, ошибки отсутствуют.

### Тесты на поле `sum`

- **Тест 11 (Негативный): Проверка sum на корректный формат**
  - **Описание:** Если сумма `sum` указана в неправильном формате, метод возвращает 400 с сообщением об ошибке.
  - **Ожидаемый результат:** HTTP-код 400, сообщение об ошибке: "Неверный формат суммы".

- **Тест 12 (Позитивный): Проверка sum с корректным значением**
  - **Описание:** Если `sum` указана в правильном формате и содержит допустимое значение, метод должен принять его.
  - **Ожидаемый результат:** Поле `sum` принимается успешно, ошибки отсутствуют.

---

## 2. Интеграционные тесты

### Тесты для проверки интеграции с фронтендом и репозиторием

- **Тест 1:** Проверка связки «фронт-бэк» - card_holder
- **Тест 2:** Проверка связки «фронт-бэк» - card_expiration
- **Тест 3:** Проверка связки «бэк-репозиторий» - успешная оплата 

---

## 3. Системные тесты

### Тесты на обработку ошибок и успешные оплаты

- **Тест 1:** Обработка неверного CVV (карта)
  - **Описание:** Попытка провести оплату с неверным CVV-кодом, чтобы убедиться, что система правильно отклоняет такие транзакции.
  - **Ожидаемый результат:** Платеж отклоняется, сообщение об ошибке: "Неверный CVV-код".

- **Тест 2:** Обработка недостаточной суммы для списания (любая форма оплаты)
  - **Описание:** Попытка провести оплату, если на карте/счете недостаточно средств.
  - **Ожидаемый результат:** Платеж отклоняется, сообщение об ошибке: "Недостаточно средств на карте/счете".

- **Тест 3:** Проверка успешной оплаты картой
  - **Описание:** Завершение платежа с корректными данными карты, чтобы убедиться, что транзакция успешно завершена и статус заказа обновлен.
  - **Ожидаемый результат:** Платеж успешно проведен, статус заказа обновлен на "оплачено".

- **Тест 4:** Обработка недопустимого формата номера карты (например, 15 или 17 цифр)
  - **Описание:** Попытка провести оплату с некорректным номером карты.
  - **Ожидаемый результат:** Платеж отклоняется, сообщение об ошибке: "Неверный формат номера карты".

- **Тест 5:** Проверка успешной оплаты на минимально допустимую сумму
  - **Описание:** Оплата минимально допустимой суммы для проверки, что система корректно обрабатывает такие платежи.
  - **Ожидаемый результат:** Платеж успешно проведен, заказ подтвержден.

- **Тест 6:** Обработка платежа с истекшей датой карты
  - **Описание:** Попытка провести оплату с использованием карты с истекшим сроком действия.
  - **Ожидаемый результат:** Платеж отклоняется, сообщение об ошибке: "Срок действия карты истек".

- **Тест 7:** Проверка на введенное имя на карте
  - **Описание:** Проверка, что имя владельца карты соответствует допустимому формату (только буквы и пробелы).
  - **Ожидаемый результат:** При неправильном имени — отклонение платежа; при корректном — успешное завершение.