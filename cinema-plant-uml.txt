@startuml
left to right direction

object tbl_film {
    + id: INT
    + title: VARCHAR(255)
    + description: TEXT
    + duration: INT
    --
    PK tbl_film_pkey (id)
}

object tbl_hall {
    + id: INT
    + name: VARCHAR(255)
    + rows: INT
    + cols: INT
    --
    PK tbl_hall_pkey (id)
}

object tbl_place {
    + id: INT
    + hall_id: INT
    + row: INT
    + col: INT
    + markup: INT
    --
    PK tbl_place_pkey (id)
    FK tbl_place_hall_id_fkey (hall_id) REFERENCES tbl_hall(id)
}

object tbl_show {
    + id: INT
    + film_id: INT
    + hall_id: INT
    + base_price: MONEY
    + date: DATE
    + time_start: TIMESTAMP
    + time_end: TIMESTAMP
    --
    PK tbl_show_pkey (id)
    FK tbl_show_film_id_fkey (film_id) REFERENCES tbl_film(id)
    FK tbl_show_hall_id_fkey (hall_id) REFERENCES tbl_hall(id)
}

entity "tbl_price" {
    + id : INT
    + show_id : INT
    + place_id : INT
    + price : MONEY
    --
    PK tbl_price_pkey (id)
    FK tbl_price_place_id_fkey (place_id) REFERENCES tbl_place(id)
    FK tbl_price_show_id_fkey (show_id) REFERENCES tbl_show(id)
    CONSTRAINT tbl_price_unique UNIQUE (place_id,show_id)
}

object tbl_ticket {
    + id: INT
    + show_id: INT
    + place_id: INT
    + price: MONEY
    + paid: BOOLEAN
    --
    PK tbl_ticket_pkey (id)
    CONSTRAINT tbl_price_unique UNIQUE (place_id,show_id)
}

tbl_film::id ||--o{ tbl_show::film_id
tbl_hall::id ||--o{ tbl_show::hall_id
tbl_hall::id ||--o{ tbl_place::hall_id
tbl_place::id ||--o{ tbl_price::place_id
tbl_show::id ||--o{ tbl_price::show_id
tbl_price::show_id ||--|| tbl_ticket::show_id
@enduml