# Тест кейсы для системы оплаты просмотра фильмов
## Модульные тесты
* Если переданный json не содержит все обязательные поля, то тестируемый метод должен вернуть код ответа 400 с сообщением об отсутствии обязательных полей.
* Если поле card_number пустое, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что номере карты обязателен.
* Если поле card_number содержит не цифровые символы (буквы, знаки препинания, спец символы и тп.), то тестируемый метод должен вернуть код ответа 400 с сообщением о некорректном номере карты. 
* Если число символов в поле card_number не равно 16, то тестируемый метод должен вернуть код ответа 400 с сообщением о некорректном номере карты.
* Если поле card_holder пустое, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле card_holder обязательно.
* Если значение поля card_holder содержит символы отличные от A-Z, a-z, -, пробела, то тестируемый метод должен вернуть код ответа 400 с сообщением о некорректном значении поля card_holder.
* Если поле card_expiration пустое, то тестируемый метод должен вернуть код ответа 400 с сообщением что поле card_expiration обязательно.
* Если поле card_expiration содержит не допустимые символы(допустимы символы 0-9/), то тестируемый метод должен вернуть код ответа 400 с сообщением о некорректном значении поля card_expiration.
* Если значение поля card_expiration не соответствует формату mm/dd, то тестируемый метод должен вернуть код ответа 400 с сообщением о некорректном значении поля card_holder.
* Если поле cvv пустое, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле cvv обязательно.
* Если поле cvv содержит не цифровые символы, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле cvv содержит не корректную информацию.
* Если длинна строки в поле cvv не равна 3, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле cvv содержит не корректную информацию.
* Если поле order_number пустое, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле order_number обязательно.
* Если длинна строки в поле order_number больше 16, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле order_number содержит не корректные данные.
* Если поле sum пустое, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле sum обязательно.
* Если поле sum содержит символы отличные от 0-9 и запятая, то тестируемый метод должен вернуть код ответа 400 с сообщением о том что поле sum содержит не корректные данные.
* Если все входные данные корректны и сервис A ответил кодом 403, то тестируемый метод должен вернуть код ответа 403.
* Если все входные данные корректны, сервис A ответил кодом 200 и метод репозитория setOrderIsPaid вернул true, то тестируемый метод должен вернуть код ответа 200
* Если все входные данные корректны, сервис A ответил кодом 200 и метод репозитория setOrderIsPaid выбросил исключение OrderIsPaidException, то тестируемый метод должен вернуть код ответа 500 с сообщением об ошибке

## Интеграционные тесты
* Фронт-бэк
    * Если поле card_number пустое, то после получение ответа от бэка фокус ввода устанавливается на поле card_number, поле выделяется красной рамкой, под полем выводится сообщение об ошибке.
    * Если поле card_holder пустое, то после получение ответа от бэка фокус ввода устанавливается на поле card_holder, поле выделяется красной рамкой, под полем выводится сообщение об ошибке.
    * Если поле card_expiration пустое, то после получение ответа от бэка фокус ввода устанавливается на поле card_expiration, поле выделяется красной рамкой, под полем выводится сообщение об ошибке.
    * Если поле cvv пустое, то после получение ответа от бэка фокус ввода устанавливается на поле cvv, поле выделяется красной рамкой, под полем выводится сообщение об ошибке.
    * Если поле order_number пустое, то после получение ответа от бэка фокус ввода устанавливается на поле order_number, поле выделяется красной рамкой, под полем выводится сообщение об ошибке.
    * Если поле sum пустое, то после получение ответа от бэка фокус ввода устанавливается на поле sum, поле выделяется красной рамкой, под полем выводится сообщение об ошибке.
    * Если поле sum пустое, то после получение ответа от бэка фокус ввода устанавливается на поле sum, поле выделяется красной рамкой, под полем выводится сообщение об ошибке.
    * Если бэк ответил кодом 403, то показываем над формой сообщение "Списание не возможно. Проверьте данные и попробуйте еще раз".
    * Если бэк ответил кодом 200, то перенаправляем клиента на страницу с тестом "Ваш заказ успешно оплачен".
    * Если бэк ответил кодом 500, то показываем над формой сообщение "Сбой в процессе оплаты. Обратитесь в службу поддержки.".
* Бэк-Репозиторий
    * Если передан не существующий номер заказа, то бэк должен вернуть код ответа 500 с сообщением об ошибке
    * Если передана не верная сумма заказа, то бэк должен вернуть код ответа 500 с сообщением об ошибке
* Бэк-платежный сервис
    * Если передан не корректный cvv, то бэк должен вернуть код 403 
    * Если передан номер не существующей карты, то бэк должен вернуть код 403 
## Системные тесты
* Если переданы не валидные данные, то после ответа бэка на форме будут выделены поля с не валидными данными и под ними будет выведенно сообщение об ошибке.
* Если переданы не корректные данные карты (карты не существует, cvv не верный и тд.), то показываем над формой сообщение "Списание не возможно. Проверьте данные и попробуйте еще раз".
* Если произошла внутрення ошибка сервиса(ответ от бэка с кодом 500), то над формой показываем сообщение "Сбой в процессе оплаты. Обратитесь в службу поддержки."