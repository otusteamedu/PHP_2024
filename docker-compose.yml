version: '3'
services:
  php:
    build:
      context: './docker/php'
    volumes:
      - './app:/var/www/html'
      - './docker/php/php.ini:/usr/local/etc/php/php.ini'
    networks:
      - 'default'

  elasticsearch:
    image: elasticsearch:8.8.0
    ports:
      - "9200:9200"
      - "9300:9300"
    environment:
      - discovery.type=single-node
      - xpack.security.enabled=false
    networks:
      - 'default'

networks:
  default:
    ipam:
      driver: default
      config:
        - subnet: 172.28.0.0/16
          gateway: 172.28.0.1
