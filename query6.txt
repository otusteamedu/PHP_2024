Миниальной и максимальной цены за билет на конкретный сеанс
select
    session_id,
    min(price),
    max(price)
from tickets
where session_id =1 and deleted_at is null
group by session_id;

+----------+----+----+
|session_id|min |max |
+----------+----+----+
|1         |0.13|9.99|
+----------+----+----+

План для числа записей менее 10000 записей
+--------------------------------------------------------------------------------------------------------+
|QUERY PLAN                                                                                              |
+--------------------------------------------------------------------------------------------------------+
|GroupAggregate  (cost=0.42..95.23 rows=1 width=72)                                                      |
|  ->  Index Scan using tickets_session_id_seat_id_unique on tickets  (cost=0.42..95.05 rows=35 width=14)|
|        Index Cond: (session_id = 1)                                                                    |
|        Filter: (deleted_at IS NULL)                                                                    |
+--------------------------------------------------------------------------------------------------------+

План для числа записей для ~10000 записей
+--------------------------------------------------------------------------------------------------------+
|QUERY PLAN                                                                                              |
+--------------------------------------------------------------------------------------------------------+
|GroupAggregate  (cost=0.42..95.23 rows=1 width=72)                                                      |
|  ->  Index Scan using tickets_session_id_seat_id_unique on tickets  (cost=0.42..95.05 rows=35 width=14)|
|        Index Cond: (session_id = 1)                                                                    |
|        Filter: (deleted_at IS NULL)                                                                    |
+--------------------------------------------------------------------------------------------------------+

План для числа записей для ~10000000 записей
+--------------------------------------------------------------------------------------------------------+
|QUERY PLAN                                                                                              |
+--------------------------------------------------------------------------------------------------------+
|GroupAggregate  (cost=0.42..95.23 rows=1 width=72)                                                      |
|  ->  Index Scan using tickets_session_id_seat_id_unique on tickets  (cost=0.42..95.05 rows=35 width=14)|
|        Index Cond: (session_id = 1)                                                                    |
|        Filter: (deleted_at IS NULL)                                                                    |
+--------------------------------------------------------------------------------------------------------+

Оптимизация
Добавить частичный индекс по полю session_id
create index tickets_session_id_index
    on tickets (session_id)
    where tickets.deleted_at is null ;

План запроса
+----------------------------------------------------------------------------------------------+
|QUERY PLAN                                                                                    |
+----------------------------------------------------------------------------------------------+
|GroupAggregate  (cost=0.42..9.22 rows=1 width=72)                                             |
|  ->  Index Scan using tickets_session_id_index on tickets  (cost=0.42..9.03 rows=35 width=14)|
|        Index Cond: (session_id = 1)                                                          |
+----------------------------------------------------------------------------------------------+
