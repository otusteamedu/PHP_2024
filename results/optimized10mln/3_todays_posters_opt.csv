Hash Join  (cost=32.74..472.69 rows=94167 width=1592)
  Hash Cond: (s.movie_id = m.id)
  ->  Hash Join  (cost=19.55..420.65 rows=2825 width=532)
        Hash Cond: (mg.genre_id = g.id)
        ->  Nested Loop  (cost=6.40..399.93 rows=2825 width=20)
              ->  Bitmap Heap Scan on session s  (cost=6.23..358.70 rows=250 width=12)
                    Recheck Cond: ((scheduled_at)::date = CURRENT_DATE)
                    ->  Bitmap Index Scan on idx_session_scheduled_at_date  (cost=0.00..6.17 rows=250 width=0)
                          Index Cond: ((scheduled_at)::date = CURRENT_DATE)
              ->  Memoize  (cost=0.17..0.55 rows=11 width=8)
                    Cache Key: s.movie_id
                    Cache Mode: logical
                    ->  Index Only Scan using movie_genre_pkey on movie_genre mg  (cost=0.15..0.54 rows=11 width=8)
                          Index Cond: (movie_id = s.movie_id)
        ->  Hash  (cost=11.40..11.40 rows=140 width=520)
              ->  Seq Scan on genre g  (cost=0.00..11.40 rows=140 width=520)
  ->  Hash  (cost=13.12..13.12 rows=6 width=1068)
        ->  Hash Join  (cost=1.14..13.12 rows=6 width=1068)
              Hash Cond: (c.id = m.country_id)
              ->  Seq Scan on country c  (cost=0.00..11.40 rows=140 width=520)
              ->  Hash  (cost=1.06..1.06 rows=6 width=556)
                    ->  Seq Scan on movie m  (cost=0.00..1.06 rows=6 width=556)
