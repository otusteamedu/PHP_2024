1. <u>Модульные тесты:</u>

   1. Если длина `card_holder` равна 0, то тестируемый метод возвращает 400 с сообщением об ошибке "Владелец карты должен быть заполнен";
   2. Если `card_holder` содержит более одного пробела, то тестируемый метод возвращает 400 с сообщением об ошибке "Во Владельце карты должны содержаться только Фамилия и Отчество";
   3. Если `card_holder` не содержит ни одного пробела, то тестируемый метод возвращает 400 с сообщением об ошибке "Во Владельце карты должны содержаться Фамилия и Отчество";
   4. Если `card_holder` содержит любые другие символы кроме латиницы, пробела и дефиса, то тестируемый метод возвращает 400 с сообщением об ошибке "Владелец карты содержит запрещенные символы";
   5. Если длина `card_number` не равна 16, то тестируемый метод возвращает 400 с сообщением об ошибке "Номер карты должен состоять из 16 символов";
   6. Если `card_number` содержит любые иные символы, кроме цифр, то тестируемый метод возвращает 400 с сообщением об ошибке "Номер карты должен состоять только из цифр";
   7. Если длина `card_expiration` равна 0, то тестируемый метод возвращает 400 с сообщением об ошибке "Дата окончания действия карты должна быть заполнена";
   8. Если `card_expiration` не соответствует шаблону `мм/гг`, то тестируемый метод возвращает 400 с сообщением об ошибке "Дата окончания действия карты должна быть указана в формате мм/гг";
   9. Если значения мм в `card_expiration` не находятся в диапазоне 01-12, то тестируемый метод возвращает 400 с сообщением об ошибке "В дата окончания действия карты неверно указан номер месяца";
   10. Если длина `cvv` не равна 3, то тестируемый метод возвращает 400 с сообщением об ошибке "CVV должен состоять из 3 символов";
   11. Если `cvv` содержит любые иные символы, кроме цифр, то тестируемый метод возвращает 400 с сообщением об ошибке "CVV должен состоять только из цифр";
   12. Если длина `order_number` равна 0, то тестируемый метод возвращает 400 с сообщением об ошибке "Номер заказа должен быть заполнен";
   13. Если длина `order_number` больше 16, то тестируемый метод возвращает 400 с сообщением об ошибке "Длина номера заказа не должна превышать 16 символов";
   14. Если длина `sum` равна 0, то тестируемый метод возвращает 400 с сообщением об ошибке "Сумма заказа должна быть заполнена";
   15. Если `sum` не содержит ни одной запятой, то тестируемый метод возвращает 400 с сообщением об ошибке "Сумма заказа указана в неверном формате";
   16. Если `sum` содержит более одной запятой, то тестируемый метод возвращает 400 с сообщением об ошибке "Сумма заказа указана в неверном формате";
   17. Если `sum` содержит любые другие символы кроме числовых и запятой, то тестируемый метод возвращает 400 с сообщением об ошибке "Сумма заказа содержит запрещенные символы".
   18. Если в теле запроса пришла некорректная JSON-строка (не удалось распарсить с помощью `json_decode`), то тестируемый метод возвращает 500;
   19. Если в теле запроса пришла JSON-строка, которая не соответствует контракту - отсутствуют все необходимы свойства, то тестируемый метод возвращает 500;

2. <u>Интеграционные тесты:</u>

   1. **Проверяем связку «фронт - бэк»:**
      - Если `card_holder` не заполнен, то после получения ответа от бэка на фронте выделяется поле «Номер карты» красной рамкой;
      - Если `card_expiration` не соответствует шаблону мм/гг, то после получения ответа от бэка на фронте выделяется поле «Окончание действия карты» красной рамкой;
      - Если длина `cvv` не равна 3, то после получения ответа от бэка на фронте выделяется поле «CVV» красной рамкой;
      - Если длина `order_number` больше 16, то после получения ответа от бэка на фронте выделяется поле «Номер заказа» красной рамкой;
      - Если `sum` содержит любые другие символы кроме числовых и запятой, то после получения ответа от бэка на фронте выделяется поле «Сумма оплаты» красной рамкой;
      - Если получен код 500, то после получения ответа от бэка на фронте становится видимым блок для отображения ошибок сервера;
   2. **Проверяем связку «бэк - репозиторий»:**
      - В случае передачи репозиторию корректных данных - сумма соответствует заказу - бэк возвращает 200.
      - В случае передачи репозиторию некорректных данных - сумма не соответствует заказу - бэк должен отловить соответствующий класс ошибки и вернуть 500 вместе с текстом ошибки из ответа репозитория.
   3. **Проверяем связку «бэк - сервис А»:** (Используем стаб сервиса)
      - В случае получения от сервиса кода 200, бэк возращает код 200.
      - В случае получения от сервиса кода 403, бэк возращает код 500 вместе с текстом ошибки, полученным от сервиса.

3. <u>Системные тесты:</u>
   1. В случае неудачного списания денег или если не удалось записать информацию в БД, в отдельном блоке - в красном прямоугольнике - должно появиться сообщение "Что-то пошло не так. Пожалуйста, попробуйте позже."
   2. Если некорректно указан владелец карты, то на фронте, под поле `Владелец карты` должно появиться сообщение "Проверьте, правильно ли заполнен владелец карты".
