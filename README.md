# PHP_2023

https://otus.ru/lessons/razrabotchik-php/?utm_source=github&utm_medium=free&utm_campaign=otus

## HW7
### Диаграмма
Диаграмма в формате vpp (делал в Visual Paradigm) и формате png скриншота содержится в директории /diagram
![Диаграмма](/diagram/hw7.png "Диаграмма")

SQL код проверялся и является валидным для PostgreSQL 16.<br>
Для создания таблиц и их заполнения выполнить по порядку:<br>

_Я не понял как (по крайней мере в DataGrip) сделать переход в базу данных по аналогии с MySQL (USE hw7;) [про \c hw7 в курсе, но DataGrip отказывается это понимать] после создания таблицы, поэтому тут нужно самому туда перейти по своему усмотрению как, после выполнения кода из первого файла:)_
```
create/1_create_database.sql
create/2_create_tables.sql 
insert/3_insert_test_data.sql 
```
Выборка самого кассового фильма:
```
select/top_profit_films.sql
```
_Да, список проданных билетов не такой большой, но я подумал, что я просто устану механически копипастиить код и подставлять данные в инсерты с двумя вложенными запросами и тремя джоинами, подгадывая и подбирая данные, чтобы они сходились с прошлыми данными (см. код файла insert/3_insert_test_data.sql)_