Список фильмов выпущенных между  1990 и 2000 годами
select * from movies where publish_year between 1990 and 2000;

Результат:
+--+--------+--------------+------------+--------+----------+
|id|title   |description   |publish_year|duration|deleted_at|
+--+--------+--------------+------------+--------+----------+
|4 |Movie #4|Description #4|1992        |1       |null      |
|5 |Movie #5|Description #5|1992        |1       |null      |
|9 |Movie #9|Description #9|1996        |4       |null      |
+--+--------+--------------+------------+--------+----------+

План для числа записей менее 10000 записей
+-------------------------------------------------------------+
|QUERY PLAN                                                   |
+-------------------------------------------------------------+
|Seq Scan on movies  (cost=0.00..11.95 rows=1 width=576)      |
|  Filter: ((publish_year >= 1990) AND (publish_year <= 2000))|
+-------------------------------------------------------------+

План для числа записей для ~10000000  записей
+--------------------------------------------------------------+
|QUERY PLAN                                                    |
+--------------------------------------------------------------+
|Seq Scan on movies  (cost=0.00..25633.00 rows=148033 width=60)|
|  Filter: ((publish_year >= 1990) AND (publish_year <= 2000)) |
+--------------------------------------------------------------+

Оптимизация
Добавить индекс по полю publish_year
create index movies_publish_year_index
    on movies (publish_year);

Время выполнения до оптимизации: 182.859 ms
Время выполнения после оптимизации: 119.472 ms

План запроса после оптимитизации
+-----------------------------------------------------------------------------------------------------------------------------------------------+
|QUERY PLAN                                                                                                                                     |
+-----------------------------------------------------------------------------------------------------------------------------------------------+
|Bitmap Heap Scan on movies  (cost=2024.74..14875.73 rows=147933 width=60) (actual time=12.386..112.910 rows=147595 loops=1)                    |
|  Recheck Cond: ((publish_year >= 1990) AND (publish_year <= 2000))                                                                            |
|  Heap Blocks: exact=10632                                                                                                                     |
|  ->  Bitmap Index Scan on movies_publish_year_index  (cost=0.00..1987.75 rows=147933 width=0) (actual time=10.327..10.328 rows=147595 loops=1)|
|        Index Cond: ((publish_year >= 1990) AND (publish_year <= 2000))                                                                        |
+-----------------------------------------------------------------------------------------------------------------------------------------------+

